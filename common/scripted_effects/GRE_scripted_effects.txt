GRE_modernize_army_effect = {
	if = {
		limit = { has_idea = gre_shadow_of_97}
		swap_ideas = {
			remove_idea = gre_shadow_of_97
			add_idea = gre_shadow_of_97_2
		}
	}
	else_if = {
		limit = { has_idea = gre_shadow_of_97_2 }
		swap_ideas = {
			remove_idea = gre_shadow_of_97_2
			add_idea = gre_shadow_of_97_3
		}
	}
	else_if = {
		limit = { has_idea = gre_shadow_of_97_3 }
		swap_ideas = {
			remove_idea = gre_shadow_of_97_3
			add_idea = gre_shadow_of_97_4
		}
	}
	else_if = {
		limit = { has_idea = gre_shadow_of_97_4 }
		swap_ideas = {
			remove_idea = gre_shadow_of_97_4
			add_idea = gre_shadow_of_97_5
		}
	}
	else_if = {
		limit = { has_idea = gre_shadow_of_97_5 }
		swap_ideas = {
			remove_idea = gre_shadow_of_97_5
			add_idea = gre_shadow_of_97_6
		}
	}
	else_if = {
		limit = { has_idea = gre_shadow_of_97_6 }
		swap_ideas = {
			remove_idea = gre_shadow_of_97_6
			add_idea = gre_shadow_of_97_7
		}
	}
	else_if = {
		limit = { has_idea = gre_shadow_of_97_7 }
		remove_ideas = gre_shadow_of_97_7
	}
}

GRE_remove_add_gre_recent_military_league_coup = {
	hidden_effect = {
		if = {
			limit = { has_idea = gre_recent_military_league_coup }
			remove_ideas = gre_recent_military_league_coup
			add_ideas = gre_recent_military_league_coup
		}
		if = {
			limit = { has_idea = gre_political_normality }
			remove_ideas = gre_political_normality
			add_ideas = gre_political_normality
		}
	}
}

GRE_remove_add_gre_agrarian_society = {
	hidden_effect = {
		if = {
			limit = { has_idea = gre_agrarian_society }
			remove_ideas = gre_agrarian_society
			add_ideas = gre_agrarian_society
		}
		if = {
			limit = { has_idea = gre_farmer_focused_culture }
			remove_ideas = gre_farmer_focused_culture
			add_ideas = gre_farmer_focused_culture
		}
		if = {
			limit = { has_idea = gre_balanced_approach_idea }
			remove_ideas = gre_balanced_approach_idea
			add_ideas = gre_balanced_approach_idea
		}
		if = {
			limit = { has_idea = GRE_industrializing_society }
			remove_ideas = GRE_industrializing_society
			add_ideas = GRE_industrializing_society
		}
	}
}
 
GRE_remove_add_gre_debt_to_the_ifc = {
	hidden_effect = {
		if = {
			limit = { has_idea = GRE_debt_to_the_ifc }
			remove_ideas = GRE_debt_to_the_ifc
			add_ideas = GRE_debt_to_the_ifc
		}
		if = {
			limit = { has_idea = GRE_debt_to_the_ifc2 }
			remove_ideas = GRE_debt_to_the_ifc2
			add_ideas = GRE_debt_to_the_ifc2
		}
		if = {
			limit = { has_idea = GRE_debt_to_the_ifc3 }
			remove_ideas = GRE_debt_to_the_ifc3
			add_ideas = GRE_debt_to_the_ifc3
		}
	}
}
GRE_create_THE = {
	create_dynamic_country = {
		original_tag = GRE
		set_country_flag = GRE_national_defense_flag
		set_cosmetic_tag = GRE_national_defense
		reserve_dynamic_country = yes
		every_state = {
			limit = {
				is_claimed_by = GRE
			}
			add_claim_by = PREV
		}	
		set_politics = {
			ruling_party = democratic
			long_name = GRE_national_defense_party_long
			name = GRE_national_defense_party
			elections_allowed = no
		}
		set_popularities = {
			democratic = 73
			neutrality = 7
			fascism = 10
			communism = 10
		}
		set_party_name = {
			ideology = fascism
			long_name = GRE_national_defense_party_long
			name = GRE_national_defense_party
		}
		set_party_name = {
			ideology = neutrality
			long_name = GRE_national_defense_party_long
			name = GRE_national_defense_party
		}
		set_party_name = { 
			ideology = communism
			long_name = GRE_federacion_party_long
			name = GRE_federacion_party
		}
		add_ideas = {
			gre_agrarian_society
			gre_the_megali_idea
			GRE_debt_to_the_ifc
			gre_recent_military_league_coup
		}
		if = {
			limit = {
				GRE = {
					has_idea = GRE_debt_to_the_ifc2
				}
			}
		}
		add_ideas = {
			GRE_debt_to_the_ifc2
		}
		if = {
			limit = {
				GRE = {
					has_idea = GRE_debt_to_the_ifc3
				}
			}
		}
		add_ideas = {
			GRE_debt_to_the_ifc3
		}
		set_variable = {
			var = GRE_IFC_var
			value = GRE.GRE_IFC_var
		}
		set_variable = {
			var = GRE_stability_var
			value = GRE.GRE_stability_var
		}
		set_variable = {
			var = GRE_pp_var
			value = GRE.GRE_pp_var
		}
		set_variable = {
			var = GRE_foreign_cost
			value = GRE.GRE_foreign_cost
		}
		add_dynamic_modifier = {
			modifier = GRE_IFC
		}
		add_dynamic_modifier = {
			modifier = GRE_recent_military_leauge_coup_var
		}
		add_dynamic_modifier = {
			modifier = GRE_agrarian_society_var
		}
		set_variable = {
			var = GRE_efficiency_cap_var
			value = GRE.GRE_efficiency_cap_var
		}
		set_variable = {
			var = GRE_efficiency_growth_var
			value = GRE.GRE_efficiency_growth_var
		}
		set_variable = {
			var = GRE_construction_speed_var
			value = GRE.GRE_construction_speed_var
		}
		set_variable = {
			var = GRE_factory_output_var
			value = GRE.GRE_factory_output_var
		}
		set_variable = {
			var = military_construction_speed_var
			value = GRE.military_construction_speed_var
		}
	}
}

